<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>2DayFlow</h1>
    <p>Current Date & Time: <strong> {{now}}</strong> </p>
    <p>Situation : <strong>{{message}}</strong></p>

    <script>
        alert("{{message}}")
    </script>
    
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2DayFlow</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-700 text-white">
  <div class="bg-white/10 backdrop-blur-lg rounded-2xl shadow-lg p-8 max-w-md w-full text-center">
    <div class="text-6xl mb-4">ğŸ’§</div>
    <h1 class="text-2xl font-bold mb-2">2DayFlow</h1>
    <p class="text-lg mb-4">â° {{ now }}</p>

    {% if "ğŸ’§" in message %}
      <p id="status" class="text-green-300 font-semibold text-xl">{{ message }}</p>
    {% else %}
      <p id="status" class="text-yellow-300 font-semibold text-xl">{{ message }}</p>
    {% endif %}

    <!-- Placeholder for countdown -->
    <p id="countdown" class="mt-4 text-sm text-gray-200"></p>
  </div>

  <script>
    // Basic JS for countdown (DOM practice)
    const statusText = document.getElementById("status").innerText;

    // Detect if message contains a water time
    let nextHour;
    if (statusText.includes("5:00PM")) {
      nextHour = 17; // 5PM in 24hr format
    } else if (statusText.includes("9:00PM")) {
      nextHour = 21; // 9PM
    }

    if (nextHour) {
      function updateCountdown() {
        const now = new Date();
        const next = new Date();
        next.setHours(nextHour, 0, 0, 0);

        const diff = next - now;
        if (diff > 0) {
          const hours = Math.floor(diff / (1000 * 60 * 60));
          const minutes = Math.floor((diff / (1000 * 60)) % 60);
          const seconds = Math.floor((diff / 1000) % 60);
          document.getElementById("countdown").innerText =
            `Countdown: ${hours}h ${minutes}m ${seconds}s left`;
        } else {
          document.getElementById("countdown").innerText = "ğŸš° It's water time!";
        }
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    }
  </script>
</body>
</html>
